@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================================
   Ink Scrollbar â€” visible + animated
   ================================ */

:root{
  --ink-900:#0a0a0b;
  --ink-800:#111113;
  --ink-700:#1a1b1e;
  --stone-700:#2a2b2e;
  --stone-500:#5a5c61;
}

/* Reserve gutter only on the right (no left shift) */
html, body {
  scrollbar-gutter: stable;
}

html.ink-scroll::-webkit-scrollbar,
body.ink-scroll::-webkit-scrollbar,
.ink-scroll::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

html.ink-scroll::-webkit-scrollbar-track,
body.ink-scroll::-webkit-scrollbar-track,
.ink-scroll::-webkit-scrollbar-track {
  background:
    radial-gradient(12px 12px at 25% 25%, rgba(255,255,255,0.03), transparent 60%),
    radial-gradient(14px 14px at 75% 60%, rgba(255,255,255,0.02), transparent 60%),
    linear-gradient(180deg, var(--ink-800), var(--ink-900));
  border-left: 1px solid var(--ink-900);
}

html.ink-scroll::-webkit-scrollbar-corner,
body.ink-scroll::-webkit-scrollbar-corner,
.ink-scroll::-webkit-scrollbar-corner {
  background: var(--ink-900);
}

@keyframes inkFlow {
  0%   { background-position: 0% 0%, 0 0, center 0; }
  50%  { background-position: 100% 200%, 0 6px, center 20px; }
  100% { background-position: 0% 0%, 0 0, center 40px; }
}
@keyframes inkPulse {
  0%,100% { box-shadow: inset 0 0 0 0 rgba(90,92,97,0.15); }
  50%     { box-shadow: inset 0 0 12px 2px rgba(90,92,97,0.25); }
}

html.ink-scroll::-webkit-scrollbar-thumb,
body.ink-scroll::-webkit-scrollbar-thumb,
.ink-scroll::-webkit-scrollbar-thumb {
  border-radius: 10px;
  border: 2px solid var(--stone-700);
  background:
    url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='20' height='40' viewBox='0 0 20 40'>\
<circle cx='5' cy='6' r='3' fill='%235a5c61'/>\
<circle cx='15' cy='18' r='2' fill='%235a5c61'/>\
<circle cx='10' cy='33' r='2.5' fill='%235a5c61'/>\
</svg>") repeat-y center / 20px 40px,
    radial-gradient(120% 60% at 50% 40%, #202226 0%, #16171a 40%, #0e0f11 70%),
    repeating-conic-gradient(from 0deg, #0f1012 0 10%, #1a1b1e 10% 20%);
  background-blend-mode: multiply;
  animation: inkFlow 3.2s ease-in-out infinite, inkPulse 2.8s ease-in-out infinite;
  -webkit-mask-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>\
<g fill='%23000'>\
<path d='M8 28c6-10 18-16 28-14s18 12 18 20-10 16-22 18S4 46 8 28z'/>\
<circle cx='12' cy='10' r='3'/><circle cx='6' cy='30' r='2'/>\
<circle cx='22' cy='58' r='4'/><circle cx='50' cy='54' r='3'/>\
<circle cx='56' cy='24' r='2.5'/><circle cx='36' cy='6' r='3'/>\
</g></svg>");
  -webkit-mask-size: cover;
  -webkit-mask-repeat: no-repeat;
}

html.ink-scroll::-webkit-scrollbar-thumb:hover,
body.ink-scroll::-webkit-scrollbar-thumb:hover,
.ink-scroll::-webkit-scrollbar-thumb:hover {
  background:
    url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='20' height='40' viewBox='0 0 20 40'>\
<circle cx='5' cy='6' r='3' fill='%235a5c61'/>\
<circle cx='15' cy='18' r='2' fill='%235a5c61'/>\
<circle cx='10' cy='33' r='2.5' fill='%235a5c61'/>\
</svg>") repeat-y center / 20px 40px,
    radial-gradient(120% 60% at 50% 40%, #24262a 0%, #191a1e 40%, #101216 70%),
    repeating-conic-gradient(from 0deg, #131417 0 10%, #1e2024 10% 20%);
}

html.ink-scroll::-webkit-scrollbar-thumb:active,
body.ink-scroll::-webkit-scrollbar-thumb:active,
.ink-scroll::-webkit-scrollbar-thumb:active {
  background:
    url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='20' height='40' viewBox='0 0 20 40'>\
<circle cx='5' cy='6' r='3' fill='%235a5c61'/>\
<circle cx='15' cy='18' r='2' fill='%235a5c61'/>\
<circle cx='10' cy='33' r='2.5' fill='%235a5c61'/>\
</svg>") repeat-y center / 20px 40px,
    radial-gradient(120% 60% at 50% 40%, #2a2c31 0%, #1f2025 40%, #14161a 70%),
    repeating-conic-gradient(from 0deg, #16181c 0 10%, #24262b 10% 20%);
}

/* Firefox fallback */
html.ink-scroll, body.ink-scroll, .ink-scroll {
  scrollbar-width: thin;
  scrollbar-color: var(--stone-500) var(--ink-900);
}
